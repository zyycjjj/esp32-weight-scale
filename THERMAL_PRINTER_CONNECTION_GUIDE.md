# 热敏打印机（Dapu）与 ESP-BOX 连接指南（TTL / RS232）

## 推荐方案：TTL 串口（优先）

ESP-BOX（ESP32-S3）GPIO 是 3.3V 逻辑电平，最适合接打印机的 TTL 串口口。

### 接线规则（按丝印）

在打印机接口板上，找到标有 `TTL` 的插座，并按丝印标注连接：

- 打印机 `TXD` → ESP-BOX `RX`
- 打印机 `RXD` → ESP-BOX `TX`
- 打印机 `GND` → ESP-BOX `GND`
- 打印机 `VCC` → 打印机独立电源（不要用 ESP-BOX 3V3 供电）

### ESP-BOX 建议占用的引脚

当前项目中 HX711 已使用：

- `G39` / `G40`

因此建议打印机 UART 使用：

- ESP-BOX `TX`：`G41`
- ESP-BOX `RX`：`G42`
- `GND`：任意 `GND`

### 电源与电平注意事项

- 热敏打印头功耗较大，通常需要 5V/9V/12V 且更高电流能力；打印机务必使用独立电源。
- 打印机电源 `GND` 必须与 ESP-BOX `GND` 共地，否则串口通信会不稳定或完全不通。
- 如果打印机 TTL 是 5V 电平：
  - 打印机 `TXD(5V)` → ESP-BOX `RX(3.3V)` 建议加电平转换或分压
  - ESP-BOX `TX(3.3V)` → 打印机 `RXD(5V)` 多数情况下可识别，但不保证，最好同样做电平转换

## 备选方案：RS232（需要电平转换，不能直连）

RS232 不是 TTL 电平，不能直接接 ESP-BOX GPIO。若要走 RS232，请使用 `MAX3232`（3.3V 侧）模块：

- ESP-BOX `TX/RX/GND` ↔ MAX3232 的 TTL 侧
- MAX3232 的 RS232 侧 ↔ 打印机 `RS232` 插座的 `TXD/RXD/GND`

同样需要共地，并使用打印机独立电源供电。

## UART 参数（常见）

多数热敏打印机使用 8-N-1（8 数据位，无校验，1 停止位），波特率常见为 `9600` 或 `115200`。以实物说明书/丝印为准。

