[env:esp32-s3-box-3]
platform = espressif32
board = esp32-s3-box-3
framework = arduino

; 串口配置
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; 编译选项
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DCONFIG_ARDUHAL_LOG_COLORS
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue

; 库依赖
lib_deps = 
    ; 显示相关
    bodmer/TFT_eSPI@^2.5.0
    adafruit/Adafruit GFX Library@^1.11.9
    
    ; 称重传感器
    bogde/HX711@^0.7.5
    
    ; 二维码生成
    ProjectQRCode/QRCode@^1.0.0
    
    ; 网络通信
    arduino-libraries/WiFi@^2.0.0
    arduino-libraries/HTTPClient@^2.0.0
    arduino-libraries/ArduinoJson@^6.21.3
    
    ; 软件串口
    plerup/EspSoftwareSerial@^8.0.2

; 分区表
board_build.partitions = huge_app.csv

; 文件系统
board_build.filesystem = spiffs

; PSRAM配置
board_build.arduino.psram_type = opi

; 上传速度
upload_speed = 921600

; 调试配置
debug_tool = esp-prog
debug_init_break = tbreak setup